<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Fulequn"><meta name="keywords" content=""><meta name="description" content="1 自定义指令  1.1 简介   内置指令：v-html、v-if、v-bind、v-on… 这都是Vue给咱们内置的一些指令，可以直接使用   自定义指令：同时Vue也支持让开发者，自己注册一些指令。这些指令被称为 自定义指令。每个指令都有自己各自独立的功能    1.1.1 自定义指令 概念：自己定义的指令，可以 封装一些DOM操作，扩展额外的功能  1.1.2 自定义指令语法   全局注"><meta property="og:type" content="article"><meta property="og:title" content="Vue基础入门到实战5（自定义指令+插槽+路由入门）"><meta property="og:url" content="https://fulequn.github.io/2024/06/Article202406071/index.html"><meta property="og:site_name" content="FuLeQun&#39;s Blog"><meta property="og:description" content="1 自定义指令  1.1 简介   内置指令：v-html、v-if、v-bind、v-on… 这都是Vue给咱们内置的一些指令，可以直接使用   自定义指令：同时Vue也支持让开发者，自己注册一些指令。这些指令被称为 自定义指令。每个指令都有自己各自独立的功能    1.1.1 自定义指令 概念：自己定义的指令，可以 封装一些DOM操作，扩展额外的功能  1.1.2 自定义指令语法   全局注"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244471.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244472.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244473.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244474.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244475.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244476.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244477.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244478.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244479.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244480.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244481.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244482.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244483.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244484.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244485.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244486.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244487.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244488.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244489.png"><meta property="article:published_time" content="2024-06-07T02:12:02.000Z"><meta property="article:modified_time" content="2024-06-24T14:44:35.058Z"><meta property="article:author" content="Fulequn"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244471.png"><title>Vue基础入门到实战5（自定义指令+插槽+路由入门） - FuLeQun&#39;s Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"fulequn.github.io",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:60,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1},gtag:null,tajs:null},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 7.2.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>FuLeQun&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="Vue基础入门到实战5（自定义指令+插槽+路由入门）"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-06-07 10:12" pubdate>2024年6月7日 上午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i>4.8k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i>40 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">Vue基础入门到实战5（自定义指令+插槽+路由入门）</h1><div class="markdown-body"><h1 id="1-自定义指令"><a class="markdownIt-Anchor" href="#1-自定义指令"></a> 1 自定义指令</h1><h2 id="11-简介"><a class="markdownIt-Anchor" href="#11-简介"></a> 1.1 简介</h2><ul><li><p>内置指令：<strong>v-html、v-if、v-bind、v-on</strong>… 这都是Vue给咱们内置的一些指令，可以直接使用</p></li><li><p>自定义指令：同时Vue也支持让开发者，自己注册一些指令。这些指令被称为 <strong>自定义指令</strong>。每个指令都有自己各自独立的功能</p></li></ul><h3 id="111-自定义指令"><a class="markdownIt-Anchor" href="#111-自定义指令"></a> 1.1.1 自定义指令</h3><p>概念：自己定义的指令，可以 <strong>封装一些DOM操作</strong>，扩展额外的功能</p><h3 id="112-自定义指令语法"><a class="markdownIt-Anchor" href="#112-自定义指令语法"></a> 1.1.2 自定义指令语法</h3><ul><li><p>全局注册</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//在main.js中</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;指令名&#x27;</span>, &#123;<br>  <span class="hljs-string">&quot;inserted&quot;</span> (el) &#123;<br>    <span class="hljs-comment">// 可以对 el 标签，扩展额外功能</span><br>    el.<span class="hljs-title function_">focus</span>()<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>局部注册</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">//在Vue组件的配置项中<br>directives: &#123;<br>  &quot;指令名&quot;: &#123;<br>    inserted (el) &#123;<br>      // 可以对 el 标签，扩展额外功能<br>      el.focus()<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>使用指令</p><p>注意：在使用指令的时候，一定要 <strong>先注册</strong>，<strong>再使用</strong>，否则会报错<br>使用指令语法： v-指令名。如：<code>&lt;input type=&quot;text&quot; v-focus/&gt;</code></p><p><strong>注册</strong> 指令时 <strong>不用</strong> 加 <strong>v-前缀</strong>，但 <strong>使用时</strong> 一定要 <strong>加v-前缀</strong></p></li></ul><h3 id="113-指令中的配置项介绍"><a class="markdownIt-Anchor" href="#113-指令中的配置项介绍"></a> 1.1.3 指令中的配置项介绍</h3><p>inserted:被绑定元素插入父节点时调用的钩子函数，除了插入时，还有更新的钩子，updated。</p><p>el：使用指令的那个 DOM 元素。</p><h3 id="114-代码示例"><a class="markdownIt-Anchor" href="#114-代码示例"></a> 1.1.4 代码示例</h3><p>需求：当页面加载时，让元素获取焦点（<strong>autofocus在safari浏览器有兼容性</strong>）</p><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div&gt;<br>  &lt;h1&gt;自定义指令&lt;/h1&gt;<br>  &lt;input v-focus ref=&quot;inp&quot; type=&quot;text&quot;&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><h2 id="12-指令的值-binding"><a class="markdownIt-Anchor" href="#12-指令的值-binding"></a> 1.2 指令的值 binding</h2><h3 id="121-需求"><a class="markdownIt-Anchor" href="#121-需求"></a> 1.2.1 需求</h3><p>实现一个 color 指令 - 传入不同的颜色, 给标签设置文字颜色</p><h3 id="122-语法"><a class="markdownIt-Anchor" href="#122-语法"></a> 1.2.2 语法</h3><p>1.在绑定指令时，可以通过“等号”的形式为指令 绑定 具体的参数值</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-color</span>=<span class="hljs-string">&quot;color&quot;</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.通过 binding.value 可以拿到指令值，<strong>指令值修改会 触发 update 函数</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">directives</span>: &#123;<br>  <span class="hljs-attr">color</span>: &#123;<br>    inserted (el, binding) &#123;<br>      el.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = binding.<span class="hljs-property">value</span><br>    &#125;,<br>    update (el, binding) &#123;<br>      el.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = binding.<span class="hljs-property">value</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="123-代码示例"><a class="markdownIt-Anchor" href="#123-代码示例"></a> 1.2.3 代码示例</h3><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>     &lt;!--显示红色--&gt; <br>    &lt;h2 v-color=&quot;color1&quot;&gt;指令的值1测试&lt;/h2&gt;<br>     &lt;!--显示蓝色--&gt; <br>    &lt;h2 v-color=&quot;color2&quot;&gt;指令的值2测试&lt;/h2&gt;<br>     &lt;button&gt;<br>        改变第一个h1的颜色<br>    &lt;/button&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  data () &#123;<br>    return &#123;<br>      color1: &#x27;red&#x27;,<br>      color2: &#x27;blue&#x27;<br>    &#125;<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="13-v-loading-指令的封装"><a class="markdownIt-Anchor" href="#13-v-loading-指令的封装"></a> 1.3 v-loading 指令的封装</h2><h3 id="131-场景"><a class="markdownIt-Anchor" href="#131-场景"></a> 1.3.1 场景</h3><p>实际开发过程中，发送请求需要时间，在请求的数据未回来时，页面会处于 <strong>空白状态</strong> =&gt; 用户体验不好</p><h3 id="132-需求"><a class="markdownIt-Anchor" href="#132-需求"></a> 1.3.2 需求</h3><p>封装一个 v-loading 指令，实现加载中的效果</p><h3 id="133-分析"><a class="markdownIt-Anchor" href="#133-分析"></a> 1.3.3 分析</h3><p>1.本质 loading 效果就是一个蒙层，盖在了盒子上</p><p>2.数据请求中，开启 loading 状态，添加蒙层</p><p>3.数据请求完毕，关闭 loading 状态，移除蒙层</p><h3 id="134-实现"><a class="markdownIt-Anchor" href="#134-实现"></a> 1.3.4 实现</h3><p>1.准备一个 loading 类，通过伪元素定位，设置宽高，实现蒙层</p><p>2.开启关闭 loading 状态（添加移除蒙层），本质只需要 <strong>添加移除类</strong> 即可。</p><p>3.结合自定义指令的语法进行封装复用</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.loading</span><span class="hljs-selector-pseudo">:before</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span> <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;./loading.gif&quot;</span>) no-repeat center;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5准备代码"><a class="markdownIt-Anchor" href="#5准备代码"></a> 5.准备代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;main&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">&quot;isLoading&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;news&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;left&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; item.source &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; item.time &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;right&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;item.img&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">&quot;isLoading2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">// 安装axios =&gt;  yarn add axios</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">// 接口地址：http://hmajax.itheima.net/api/news</span></span><br><span class="language-javascript"><span class="hljs-comment">// 请求方式：get</span></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">list</span>: [],</span><br><span class="language-javascript">      <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">isLoading2</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-keyword">async</span> <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 发送请求获取数据</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;http://hmajax.itheima.net/api/news&#x27;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// 2. 更新到 list 中，用于页面渲染 v-for</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoading</span> = <span class="hljs-literal">false</span></span><br><span class="language-javascript">    &#125;, <span class="hljs-number">2000</span>)</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">directives</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">loading</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">inserted</span>(<span class="hljs-params">el, binding</span>) &#123;</span><br><span class="language-javascript">        binding.<span class="hljs-property">value</span></span><br><span class="language-javascript">          ? el.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;loading&#x27;</span>)</span><br><span class="language-javascript">          : el.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;loading&#x27;</span>)</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-title function_">update</span>(<span class="hljs-params">el, binding</span>) &#123;</span><br><span class="language-javascript">        binding.<span class="hljs-property">value</span></span><br><span class="language-javascript">          ? el.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;loading&#x27;</span>)</span><br><span class="language-javascript">          : el.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;loading&#x27;</span>)</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.loading</span><span class="hljs-selector-pseudo">:before</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;&#x27;</span>;</span><br><span class="language-css">  <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span> <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;./loading.gif&#x27;</span>) no-repeat center;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.box2</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#000</span>;</span><br><span class="language-css">  <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.box</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid orange;</span><br><span class="language-css">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.news</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="language-css">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span> <span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.news</span> <span class="hljs-selector-class">.left</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">  <span class="hljs-attribute">flex-direction</span>: column;</span><br><span class="language-css">  <span class="hljs-attribute">justify-content</span>: space-between;</span><br><span class="language-css">  <span class="hljs-attribute">padding-right</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.news</span> <span class="hljs-selector-class">.left</span> <span class="hljs-selector-class">.title</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.news</span> <span class="hljs-selector-class">.left</span> <span class="hljs-selector-class">.info</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999999</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.news</span> <span class="hljs-selector-class">.left</span> <span class="hljs-selector-class">.info</span> <span class="hljs-selector-tag">span</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.news</span> <span class="hljs-selector-class">.right</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">160px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.news</span> <span class="hljs-selector-class">.right</span> <span class="hljs-selector-tag">img</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">  <span class="hljs-attribute">object-fit</span>: cover;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="2-插槽"><a class="markdownIt-Anchor" href="#2-插槽"></a> 2 插槽</h1><h2 id="21-默认插槽"><a class="markdownIt-Anchor" href="#21-默认插槽"></a> 2.1 默认插槽</h2><h3 id="211-作用"><a class="markdownIt-Anchor" href="#211-作用"></a> 2.1.1 作用</h3><p>让组件内部的一些 <strong>结构</strong> 支持 <strong>自定义</strong></p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244471.png" srcset="/img/loading.gif" lazyload alt="68241021524"></p><h3 id="212-需求"><a class="markdownIt-Anchor" href="#212-需求"></a> 2.1.2 需求</h3><p>将需要多次显示的对话框,封装成一个组件。</p><h3 id="213-问题"><a class="markdownIt-Anchor" href="#213-问题"></a> 2.1.3 问题</h3><p>组件的内容部分，<strong>不希望写死</strong>，希望能使用的时候 <strong>自定义</strong>。</p><h3 id="214-插槽的基本语法"><a class="markdownIt-Anchor" href="#214-插槽的基本语法"></a> 2.1.4 插槽的基本语法</h3><ol><li>组件内需要定制的结构部分，改用<code>&lt;slot&gt;&lt;/slot&gt;</code>占位</li><li>使用组件时, <code>&lt;MyDialog&gt;&lt;/MyDialog&gt;</code>标签内部, 传入结构替换 slot</li><li>给插槽传入内容时，可以传入 <strong>纯文本、html标签、组件</strong></li></ol><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244472.png" srcset="/img/loading.gif" lazyload alt="68241032979"></p><h3 id="215-代码示例"><a class="markdownIt-Anchor" href="#215-代码示例"></a> 2.1.5 代码示例</h3><p>MyDialog.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;dialog&quot;&gt;<br>    &lt;div class=&quot;dialog-header&quot;&gt;<br>      &lt;h3&gt;友情提示&lt;/h3&gt;<br>      &lt;span class=&quot;close&quot;&gt;✖️&lt;/span&gt;<br>    &lt;/div&gt;<br><br>    &lt;div class=&quot;dialog-content&quot;&gt;<br>      &lt;!-- 1. 在需要定制的位置，使用slot占位 --&gt;<br>      &lt;slot&gt;&lt;/slot&gt;<br>    &lt;/div&gt;<br>    &lt;div class=&quot;dialog-footer&quot;&gt;<br>      &lt;button&gt;取消&lt;/button&gt;<br>      &lt;button&gt;确认&lt;/button&gt;<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  data() &#123;<br>    return &#123;&#125;<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>* &#123;<br>  margin: 0;<br>  padding: 0;<br>&#125;<br>.dialog &#123;<br>  width: 470px;<br>  height: 230px;<br>  padding: 0 25px;<br>  background-color: #ffffff;<br>  margin: 40px auto;<br>  border-radius: 5px;<br>&#125;<br>.dialog-header &#123;<br>  height: 70px;<br>  line-height: 70px;<br>  font-size: 20px;<br>  border-bottom: 1px solid #ccc;<br>  position: relative;<br>&#125;<br>.dialog-header .close &#123;<br>  position: absolute;<br>  right: 0px;<br>  top: 0px;<br>  cursor: pointer;<br>&#125;<br>.dialog-content &#123;<br>  height: 80px;<br>  font-size: 18px;<br>  padding: 15px 0;<br>&#125;<br>.dialog-footer &#123;<br>  display: flex;<br>  justify-content: flex-end;<br>&#125;<br>.dialog-footer button &#123;<br>  width: 65px;<br>  height: 35px;<br>  background-color: #ffffff;<br>  border: 1px solid #e1e3e9;<br>  cursor: pointer;<br>  outline: none;<br>  margin-left: 10px;<br>  border-radius: 3px;<br>&#125;<br>.dialog-footer button:last-child &#123;<br>  background-color: #007acc;<br>  color: #fff;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- 2. 在使用组件时，组件标签内填入内容 --&gt;<br>    &lt;MyDialog&gt;<br>      &lt;div&gt;你确认要删除么&lt;/div&gt;<br>    &lt;/MyDialog&gt;<br><br>    &lt;MyDialog&gt;<br>      &lt;p&gt;你确认要退出么&lt;/p&gt;<br>    &lt;/MyDialog&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import MyDialog from &#x27;./components/MyDialog.vue&#x27;<br>export default &#123;<br>  data() &#123;<br>    return &#123;&#125;<br>  &#125;,<br>  components: &#123;<br>    MyDialog,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>body &#123;<br>  background-color: #b3b3b3;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="22-后备内容默认值"><a class="markdownIt-Anchor" href="#22-后备内容默认值"></a> 2.2 后备内容（默认值）</h2><h3 id="221-问题"><a class="markdownIt-Anchor" href="#221-问题"></a> 2.2.1 问题</h3><p>通过插槽完成了内容的定制，传什么显示什么, 但是如果不传，则是空白</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244473.png" srcset="/img/loading.gif" lazyload alt="68241149461"></p><p>能否给插槽设置 <strong>默认显示内容</strong> 呢？</p><h3 id="222-插槽的后备内容"><a class="markdownIt-Anchor" href="#222-插槽的后备内容"></a> 2.2.2 插槽的后备内容</h3><p>封装组件时，可以为预留的 <code>&lt;slot&gt;</code> 插槽提供后备内容（默认内容）。</p><h3 id="223-语法"><a class="markdownIt-Anchor" href="#223-语法"></a> 2.2.3 语法</h3><p>在 <code>&lt;slot&gt;</code> 标签内，放置内容, 作为默认显示内容</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244474.png" srcset="/img/loading.gif" lazyload alt="68241233912"></p><h3 id="224-效果"><a class="markdownIt-Anchor" href="#224-效果"></a> 2.2.4 效果</h3><ul><li><p>外部使用组件时，不传东西，则 slot 会显示后备内容</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244475.png" srcset="/img/loading.gif" lazyload alt="68241243265"></p></li><li><p>外部使用组件时，传东西了，则 slot 整体会被换掉</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244476.png" srcset="/img/loading.gif" lazyload alt="68241245902"></p></li></ul><h3 id="225-代码示例"><a class="markdownIt-Anchor" href="#225-代码示例"></a> 2.2.5 代码示例</h3><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;MyDialog&gt;&lt;/MyDialog&gt;<br><br>    &lt;MyDialog&gt;<br>      你确认要退出么<br>    &lt;/MyDialog&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import MyDialog from &#x27;./components/MyDialog.vue&#x27;<br>export default &#123;<br>  data() &#123;<br>    return &#123;&#125;<br>  &#125;,<br>  components: &#123;<br>    MyDialog,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>body &#123;<br>  background-color: #b3b3b3;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyDialog.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;dialog&quot;&gt;<br>    &lt;div class=&quot;dialog-header&quot;&gt;<br>      &lt;h3&gt;友情提示&lt;/h3&gt;<br>      &lt;span class=&quot;close&quot;&gt;✖️&lt;/span&gt;<br>    &lt;/div&gt;<br><br>    &lt;div class=&quot;dialog-content&quot;&gt;<br>      &lt;!-- 往slot标签内部，编写内容，可以作为后备内容(默认值) --&gt;<br>      &lt;slot&gt;<br>        我是默认的文本内容<br>      &lt;/slot&gt;<br>    &lt;/div&gt;<br>    &lt;div class=&quot;dialog-footer&quot;&gt;<br>      &lt;button&gt;取消&lt;/button&gt;<br>      &lt;button&gt;确认&lt;/button&gt;<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  data() &#123;<br>    return &#123;&#125;<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>* &#123;<br>  margin: 0;<br>  padding: 0;<br>&#125;<br>.dialog &#123;<br>  width: 470px;<br>  height: 230px;<br>  padding: 0 25px;<br>  background-color: #ffffff;<br>  margin: 40px auto;<br>  border-radius: 5px;<br>&#125;<br>.dialog-header &#123;<br>  height: 70px;<br>  line-height: 70px;<br>  font-size: 20px;<br>  border-bottom: 1px solid #ccc;<br>  position: relative;<br>&#125;<br>.dialog-header .close &#123;<br>  position: absolute;<br>  right: 0px;<br>  top: 0px;<br>  cursor: pointer;<br>&#125;<br>.dialog-content &#123;<br>  height: 80px;<br>  font-size: 18px;<br>  padding: 15px 0;<br>&#125;<br>.dialog-footer &#123;<br>  display: flex;<br>  justify-content: flex-end;<br>&#125;<br>.dialog-footer button &#123;<br>  width: 65px;<br>  height: 35px;<br>  background-color: #ffffff;<br>  border: 1px solid #e1e3e9;<br>  cursor: pointer;<br>  outline: none;<br>  margin-left: 10px;<br>  border-radius: 3px;<br>&#125;<br>.dialog-footer button:last-child &#123;<br>  background-color: #007acc;<br>  color: #fff;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="23-具名插槽"><a class="markdownIt-Anchor" href="#23-具名插槽"></a> 2.3 具名插槽</h2><h3 id="231-需求"><a class="markdownIt-Anchor" href="#231-需求"></a> 2.3.1 需求</h3><p>一个组件内有多处结构，需要外部传入标签，进行定制 <img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244477.png" srcset="/img/loading.gif" lazyload alt="68241313487"></p><p>上面的弹框中有 <strong>三处不同</strong>，但是 <strong>默认插槽</strong> 只能 <strong>定制一个位置</strong>，这时候怎么办呢?</p><h3 id="232-具名插槽语法"><a class="markdownIt-Anchor" href="#232-具名插槽语法"></a> 2.3.2 具名插槽语法</h3><ul><li><p>多个 slot 使用 name 属性区分名字</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244478.png" srcset="/img/loading.gif" lazyload alt="68241339172"></p></li><li><p>template 配合 v-slot:名字 来分发对应标签</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244479.png" srcset="/img/loading.gif" lazyload alt="68241341192"></p></li></ul><h3 id="233-v-slot-的简写"><a class="markdownIt-Anchor" href="#233-v-slot-的简写"></a> 2.3.3 v-slot 的简写</h3><p>v-slot 写起来太长，vue 给我们提供一个简单写法 <strong>v-slot —&gt; #</strong>，例如 <code>#footer</code></p><h2 id="24-作用域插槽"><a class="markdownIt-Anchor" href="#24-作用域插槽"></a> 2.4 作用域插槽</h2><h3 id="241-插槽分类"><a class="markdownIt-Anchor" href="#241-插槽分类"></a> 2.4.1 插槽分类</h3><ul><li><p>默认插槽</p></li><li><p>具名插槽</p><p>插槽只有两种，作用域插槽不属于插槽的一种分类</p></li></ul><h3 id="242-作用"><a class="markdownIt-Anchor" href="#242-作用"></a> 2.4.2 作用</h3><p>定义slot 插槽的同时, 是可以 <strong>传值</strong> 的。给 <strong>插槽</strong> 上可以 <strong>绑定数据</strong>，将来 <strong>使用组件时可以用</strong></p><h3 id="243-场景"><a class="markdownIt-Anchor" href="#243-场景"></a> 2.4.3 场景</h3><p>封装表格组件</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244480.png" srcset="/img/loading.gif" lazyload alt="68241434213"></p><h3 id="244-使用步骤"><a class="markdownIt-Anchor" href="#244-使用步骤"></a> 2.4.4 使用步骤</h3><ol><li><p>给 slot 标签, 以 添加属性的方式传值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;slot :id=&quot;item.id&quot; msg=&quot;测试文本&quot;&gt;&lt;/slot&gt;<br></code></pre></td></tr></table></figure></li><li><p>所有添加的属性, 都会被收集到一个对象中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&#123; id: 3, msg: &#x27;测试文本&#x27; &#125;<br></code></pre></td></tr></table></figure></li><li><p>在template中, 通过 <code>#插槽名= &quot;obj&quot;</code> 接收，默认插槽名为 <code>default</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;MyTable :list=&quot;list&quot;&gt;<br>  &lt;template #default=&quot;obj&quot;&gt;<br>    &lt;button @click=&quot;del(obj.id)&quot;&gt;删除&lt;/button&gt;<br>  &lt;/template&gt;<br>&lt;/MyTable&gt;<br></code></pre></td></tr></table></figure></li></ol><h1 id="3-综合案例-商品列表-mytag-组件抽离"><a class="markdownIt-Anchor" href="#3-综合案例-商品列表-mytag-组件抽离"></a> 3 综合案例 - 商品列表-MyTag 组件抽离</h1><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244481.png" srcset="/img/loading.gif" lazyload alt="68241640658"></p><h2 id="31-需求说明"><a class="markdownIt-Anchor" href="#31-需求说明"></a> 3.1 需求说明</h2><ol><li><strong>my-tag 标签组件封装</strong></li></ol><p>​ (1) 双击显示输入框，输入框获取焦点</p><p>​ (2) 失去焦点，隐藏输入框</p><p>​ (3) 回显标签信息</p><p>​ (4) 内容修改，回车 → 修改标签信息</p><ol start="2"><li><strong>my-table 表格组件封装</strong></li></ol><p>​ (1) 动态传递表格数据渲染</p><p>​ (2) 表头支持用户自定义</p><p>​ (3) 主体支持用户自定义</p><h2 id="32-代码展示"><a class="markdownIt-Anchor" href="#32-代码展示"></a> 3.2 代码展示</h2><h3 id="mainjs"><a class="markdownIt-Anchor" href="#mainjs"></a> main.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span><br><br><span class="hljs-comment">// 封装全局指令 focus</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, &#123;<br>  <span class="hljs-comment">// 指令所在的dom元素，被插入到页面中时触发</span><br>  <span class="hljs-title function_">inserted</span>(<span class="hljs-params">el</span>) &#123;<br>    el.<span class="hljs-title function_">focus</span>()<br>  &#125;<br>&#125;)<br><br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="appvue"><a class="markdownIt-Anchor" href="#appvue"></a> App.vue</h3><p>控制页面的整体显示，包括表头和表体。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;table-case&quot;&gt;<br>    &lt;MyTable :data=&quot;goods&quot;&gt;<br>      &lt;template #head&gt;<br>        &lt;th&gt;编号&lt;/th&gt;<br>        &lt;th&gt;名称&lt;/th&gt;<br>        &lt;th&gt;图片&lt;/th&gt;<br>        &lt;th width=&quot;100px&quot;&gt;标签&lt;/th&gt;<br>      &lt;/template&gt;<br><br>      &lt;template #body=&quot;&#123; item, index &#125;&quot;&gt;<br>        &lt;td&gt;&#123;&#123; index + 1 &#125;&#125;&lt;/td&gt;<br>        &lt;td&gt;&#123;&#123; item.name &#125;&#125;&lt;/td&gt;<br>        &lt;td&gt;<br>          &lt;img :src=&quot;item.picture&quot; /&gt;<br>        &lt;/td&gt;<br>        &lt;td&gt;<br>          &lt;MyTag v-model=&quot;item.tag&quot;&gt;&lt;/MyTag&gt;<br>        &lt;/td&gt;<br>      &lt;/template&gt;<br>    &lt;/MyTable&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>// my-tag 标签组件的封装<br>// 1. 创建组件 - 初始化<br>// 2. 实现功能<br>//    (1) 双击显示，并且自动聚焦<br>//        v-if v-else @dbclick 操作 isEdit<br>//        自动聚焦：<br>//        1. $nextTick =&gt; $refs 获取到dom，进行focus获取焦点<br>//        2. 封装v-focus指令<br><br>//    (2) 失去焦点，隐藏输入框<br>//        @blur 操作 isEdit 即可<br><br>//    (3) 回显标签信息<br>//        回显的标签信息是父组件传递过来的<br>//        v-model实现功能 (简化代码)  v-model =&gt; :value 和 @input<br>//        组件内部通过props接收, :value设置给输入框<br><br>//    (4) 内容修改了，回车 =&gt; 修改标签信息<br>//        @keyup.enter, 触发事件 $emit(&#x27;input&#x27;, e.target.value)<br><br>// ---------------------------------------------------------------------<br><br>// my-table 表格组件的封装<br>// 1. 数据不能写死，动态传递表格渲染的数据  props<br>// 2. 结构不能写死 - 多处结构自定义 【具名插槽】<br>//    (1) 表头支持自定义<br>//    (2) 主体支持自定义<br><br>import MyTag from &#x27;./components/MyTag.vue&#x27;<br>import MyTable from &#x27;./components/MyTable.vue&#x27;<br>export default &#123;<br>  name: &#x27;TableCase&#x27;,<br>  components: &#123;<br>    MyTag,<br>    MyTable,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      goods: [<br>        &#123;<br>          id: 101,<br>          picture:<br>            &#x27;https://yanxuan-item.nosdn.127.net/f8c37ffa41ab1eb84bff499e1f6acfc7.jpg&#x27;,<br>          name: &#x27;梨皮朱泥三绝清代小品壶经典款紫砂壶&#x27;,<br>          tag: &#x27;茶具&#x27;,<br>        &#125;,<br>        &#123;<br>          id: 102,<br>          picture:<br>            &#x27;https://yanxuan-item.nosdn.127.net/221317c85274a188174352474b859d7b.jpg&#x27;,<br>          name: &#x27;全防水HABU旋钮牛皮户外徒步鞋山宁泰抗菌&#x27;,<br>          tag: &#x27;男鞋&#x27;,<br>        &#125;,<br>        &#123;<br>          id: 103,<br>          picture:<br>            &#x27;https://yanxuan-item.nosdn.127.net/cd4b840751ef4f7505c85004f0bebcb5.png&#x27;,<br>          name: &#x27;毛茸茸小熊出没，儿童羊羔绒背心73-90cm&#x27;,<br>          tag: &#x27;儿童服饰&#x27;,<br>        &#125;,<br>        &#123;<br>          id: 104,<br>          picture:<br>            &#x27;https://yanxuan-item.nosdn.127.net/56eb25a38d7a630e76a608a9360eec6b.jpg&#x27;,<br>          name: &#x27;基础百搭，儿童套头针织毛衣1-9岁&#x27;,<br>          tag: &#x27;儿童服饰&#x27;,<br>        &#125;,<br>      ],<br>    &#125;<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.table-case &#123;<br>  width: 1000px;<br>  margin: 50px auto;<br>  img &#123;<br>    width: 100px;<br>    height: 100px;<br>    object-fit: contain;<br>    vertical-align: middle;<br>  &#125;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="mytagvue"><a class="markdownIt-Anchor" href="#mytagvue"></a> MyTag.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;my-tag&quot;&gt;<br>    &lt;input v-if=&quot;isEdit&quot; v-focus ref=&quot;inp&quot; class=&quot;input&quot; type=&quot;text&quot; placeholder=&quot;输入标签&quot;<br>      :value=&quot;value&quot; @blur=&quot;isEdit = false&quot; @keyup.enter=&quot;handleEnter&quot; /&gt;<br>    &lt;div v-else @dblclick=&quot;handleClick&quot; class=&quot;text&quot;&gt;<br>      &#123;&#123; value &#125;&#125;<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  props: &#123;<br>    value: String,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      isEdit: false,<br>    &#125;<br>  &#125;,<br>  methods: &#123;<br>    handleClick() &#123;<br>      // 双击后，切换到显示状态 (Vue是异步dom更新)<br>      this.isEdit = true<br><br>      // // 等dom更新完了，再获取焦点<br>      // this.$nextTick(() =&gt; &#123;<br>      //   // 立刻获取焦点<br>      //   this.$refs.inp.focus()<br>      // &#125;)<br>    &#125;,<br>    handleEnter(e) &#123;<br>      // 非空处理<br>      if (e.target.value.trim() === &#x27;&#x27;) return alert(&#x27;标签内容不能为空&#x27;)<br><br>      // 子传父，将回车时，[输入框的内容] 提交给父组件更新<br>      // 由于父组件是v-model，触发事件，需要触发 input 事件<br>      this.$emit(&#x27;input&#x27;, e.target.value)<br>      // 提交完成，关闭输入状态<br>      this.isEdit = false<br>    &#125;,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.my-tag &#123;<br>  cursor: pointer;<br>  .input &#123;<br>    appearance: none;<br>    outline: none;<br>    border: 1px solid #ccc;<br>    width: 100px;<br>    height: 40px;<br>    box-sizing: border-box;<br>    padding: 10px;<br>    color: #666;<br>    &amp;::placeholder &#123;<br>      color: #666;<br>    &#125;<br>  &#125;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="mytablevue"><a class="markdownIt-Anchor" href="#mytablevue"></a> MyTable.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;table class=&quot;my-table&quot;&gt;<br>    &lt;thead&gt;<br>      &lt;tr&gt;<br>        &lt;slot name=&quot;head&quot;&gt;&lt;/slot&gt;<br>      &lt;/tr&gt;<br>    &lt;/thead&gt;<br>    &lt;tbody&gt;<br>      &lt;tr v-for=&quot;(item, index) in data&quot; :key=&quot;item.id&quot;&gt;<br>        &lt;slot name=&quot;body&quot; :item=&quot;item&quot; :index=&quot;index&quot;&gt;&lt;/slot&gt;<br>      &lt;/tr&gt;<br>    &lt;/tbody&gt;<br>  &lt;/table&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  props: &#123;<br>    data: &#123;<br>      type: Array,<br>      required: true,<br>    &#125;,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.my-table &#123;<br>  width: 100%;<br>  border-spacing: 0;<br>  img &#123;<br>    width: 100px;<br>    height: 100px;<br>    object-fit: contain;<br>    vertical-align: middle;<br>  &#125;<br>  th &#123;<br>    background: #f5f5f5;<br>    border-bottom: 2px solid #069;<br>  &#125;<br>  td &#123;<br>    border-bottom: 1px dashed #ccc;<br>  &#125;<br>  td,<br>  th &#123;<br>    text-align: center;<br>    padding: 10px;<br>    transition: all 0.5s;<br>    &amp;.red &#123;<br>      color: red;<br>    &#125;<br>  &#125;<br>  .none &#123;<br>    height: 100px;<br>    line-height: 100px;<br>    color: #999;<br>  &#125;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h1 id="4-路由入门"><a class="markdownIt-Anchor" href="#4-路由入门"></a> 4 路由入门</h1><h2 id="41-单页应用程序介绍"><a class="markdownIt-Anchor" href="#41-单页应用程序介绍"></a> 4.1 单页应用程序介绍</h2><p>单页应用程序：SPA【Single Page Application】是指所有的功能都在 <strong>一个html页面</strong> 上实现</p><h3 id="2具体示例"><a class="markdownIt-Anchor" href="#2具体示例"></a> 2.具体示例</h3><p>单页应用网站： 网易云音乐 <a target="_blank" rel="noopener" href="https://music.163.com/">https://music.163.com/</a></p><p>多页应用网站：京东 <a target="_blank" rel="noopener" href="https://jd.com/">https://jd.com/</a></p><h3 id="3单页应用-vs-多页面应用"><a class="markdownIt-Anchor" href="#3单页应用-vs-多页面应用"></a> 3.单页应用 VS 多页面应用</h3><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244482.png" srcset="/img/loading.gif" lazyload alt="68244191297"></p><p>单页应用类网站：系统类网站 / 内部网站 / 文档类网站 / 移动端站点</p><p>多页应用类网站：公司官网 / 电商类网站</p><h2 id="42-路由介绍"><a class="markdownIt-Anchor" href="#42-路由介绍"></a> 4.2 路由介绍</h2><h3 id="421-思考"><a class="markdownIt-Anchor" href="#421-思考"></a> 4.2.1 思考</h3><p>单页面应用程序，之所以开发效率高，性能好，用户体验好</p><p>最大的原因就是：<strong>页面按需更新</strong></p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244483.png" srcset="/img/loading.gif" lazyload alt="68244269977"></p><p>比如当点击【发现音乐】和【关注】时，<strong>只是更新下面部分内容</strong>，对于头部是不更新的</p><p>要按需更新，首先就需要明确：<strong>访问路径</strong> 和 **组件 **的对应关系！</p><p>访问路径 和 组件的对应关系如何确定呢？ <strong>路由</strong></p><h3 id="422-路由的介绍"><a class="markdownIt-Anchor" href="#422-路由的介绍"></a> 4.2.2 路由的介绍</h3><p>生活中的路由：设备和 ip 的映射关系</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244484.png" srcset="/img/loading.gif" lazyload alt="68244294505"></p><p>Vue中的路由：**路径和组件 **的 <strong>映射</strong> 关系</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244485.png" srcset="/img/loading.gif" lazyload alt="68244304037"></p><h2 id="43-路由插件-vuerouter"><a class="markdownIt-Anchor" href="#43-路由插件-vuerouter"></a> 4.3 路由插件 VueRouter</h2><h3 id="431-介绍"><a class="markdownIt-Anchor" href="#431-介绍"></a> 4.3.1 介绍</h3><p>VueRouter 是 Vue 官方的一个路由插件，是一个第三方包。能够在 <strong>修改</strong> 地址栏路径时，**切换显示 **匹配的 <strong>组件</strong></p><p><strong>官网</strong></p><p><a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/">https://v3.router.vuejs.org/zh/</a></p><h3 id="432-vuerouter的使用52"><a class="markdownIt-Anchor" href="#432-vuerouter的使用52"></a> 4.3.2 VueRouter的使用（5+2）</h3><p>固定5个固定的步骤（不用死背，熟能生巧）</p><ol><li><p>下载 VueRouter 模块到当前工程，版本3.6.5（233 344，Vue2 对应的 VueRouter 和 Vuex 对应的版本是 3。而 Vue3 对应的两个插件大版本都是 4）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add vue-router@3.6.5<br></code></pre></td></tr></table></figure></li><li><p>main.js 中引入 VueRouter</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>安装注册</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>)<br></code></pre></td></tr></table></figure></li><li><p>创建路由对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>()<br></code></pre></td></tr></table></figure></li><li><p>注入，将路由对象注入到 new Vue 实例中，建立关联</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">router</span>:router<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><p>当我们配置完以上5步之后 就可以看到浏览器地址栏中的路由 变成了 /#/的形式。表示项目的路由已经被 Vue-Router 管理了</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244486.png" srcset="/img/loading.gif" lazyload alt="68247920745"></p><h3 id="433-代码示例"><a class="markdownIt-Anchor" href="#433-代码示例"></a> 4.3.3 代码示例</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 路由的使用步骤 5 + 2</span><br><span class="hljs-comment">// 5个基础步骤</span><br><span class="hljs-comment">// 1. 下载 v3.6.5</span><br><span class="hljs-comment">// yarn add vue-router@3.6.5</span><br><span class="hljs-comment">// 2. 引入</span><br><span class="hljs-comment">// 3. 安装注册 Vue.use(Vue插件)</span><br><span class="hljs-comment">// 4. 创建路由对象</span><br><span class="hljs-comment">// 5. 注入到new Vue中，建立关联</span><br><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>) <span class="hljs-comment">// VueRouter插件初始化</span><br><br><span class="hljs-comment">// 这里推荐使用router命名，注入时可以直接简写</span><br><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>()<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  router<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="434-两个核心步骤"><a class="markdownIt-Anchor" href="#434-两个核心步骤"></a> 4.3.4 两个核心步骤</h3><ol><li><p>创建需要的组件 (views 目录)，配置路由规则</p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244487.png" srcset="/img/loading.gif" lazyload alt="68247963966"></p></li><li><p>配置导航，配置路由出口(路径匹配的组件显示的位置)</p><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div class=&quot;footer_wrap&quot;&gt;<br>  &lt;!-- 这里需要携带#号 --&gt;<br>  &lt;a href=&quot;#/find&quot;&gt;发现音乐&lt;/a&gt;<br>  &lt;a href=&quot;#/my&quot;&gt;我的音乐&lt;/a&gt;<br>  &lt;a href=&quot;#/friend&quot;&gt;朋友&lt;/a&gt;<br>&lt;/div&gt;<br>&lt;div class=&quot;top&quot;&gt;<br>  &lt;router-view&gt;&lt;/router-view&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure></li></ol><h2 id="44-组件的存放目录问题"><a class="markdownIt-Anchor" href="#44-组件的存放目录问题"></a> 4.4 组件的存放目录问题</h2><p>注意： <strong>.vue文件</strong> 本质无区别</p><h3 id="441-组件分类"><a class="markdownIt-Anchor" href="#441-组件分类"></a> 4.4.1 组件分类</h3><p>.vue文件分为2类，都是 <strong>.vue文件（本质无区别）</strong></p><ul><li>页面组件 （配置路由规则时使用的组件）</li><li>复用组件（多个组件中都使用到的组件）</li></ul><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244488.png" srcset="/img/loading.gif" lazyload alt="68244539795"></p><h3 id="442-存放目录"><a class="markdownIt-Anchor" href="#442-存放目录"></a> 4.4.2 存放目录</h3><p>分类开来的目的就是为了 <strong>更易维护</strong></p><ol><li><p>src/views文件夹</p><p>页面组件 - 页面展示 - 配合路由用</p></li><li><p>src/components文件夹</p><p>复用组件 - 展示数据 - 常用于复用</p></li></ol><h2 id="443-路由的封装抽离"><a class="markdownIt-Anchor" href="#443-路由的封装抽离"></a> 4.4.3 路由的封装抽离</h2><p>问题：所有的路由配置都在main.js中合适吗？</p><p>目标：将路由模块抽离出来。 好处：<strong>拆分模块，利于维护</strong></p><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img241/202406242244489.png" srcset="/img/loading.gif" lazyload alt="68248141030"></p><p>路径简写：</p><p><strong>脚手架环境下</strong> @指代src目录，可以用于快速引入组件</p></div><hr><div><div class="post-metas my-3"></div><div class="license-box my-3"><div class="license-title"><div>Vue基础入门到实战5（自定义指令+插槽+路由入门）</div><div>https://fulequn.github.io/2024/06/Article202406071/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Fulequn</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年6月7日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2024/06/Article202406141/" title="Vue基础入门到实战6（路由进阶+面经项目）"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Vue基础入门到实战6（路由进阶+面经项目）</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2024/06/Article202406061/" title="Vue基础入门到实战4（组件组成部分+组件通信+进阶语法）"><span class="hidden-mobile">Vue基础入门到实战4（组件组成部分+组件通信+进阶语法）</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>