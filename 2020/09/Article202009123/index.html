<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Fulequn"><meta name="keywords" content=""><meta name="description" content="参考链接： https:&#x2F;&#x2F;blog.csdn.net&#x2F;u010801439&#x2F;article&#x2F;details&#x2F;80033341 https:&#x2F;&#x2F;blog.csdn.net&#x2F;toshibahuai&#x2F;article&#x2F;details&#x2F;79034829 https:&#x2F;&#x2F;blog.csdn.net&#x2F;zhuzuwei&#x2F;article&#x2F;details&#x2F;80890007   read_csv和to_csv两大方"><meta property="og:type" content="article"><meta property="og:title" content="pandas系列 read_csv和to_csv的使用"><meta property="og:url" content="https://fulequn.github.io/2020/09/Article202009123/index.html"><meta property="og:site_name" content="FuLeQun&#39;s Blog"><meta property="og:description" content="参考链接： https:&#x2F;&#x2F;blog.csdn.net&#x2F;u010801439&#x2F;article&#x2F;details&#x2F;80033341 https:&#x2F;&#x2F;blog.csdn.net&#x2F;toshibahuai&#x2F;article&#x2F;details&#x2F;79034829 https:&#x2F;&#x2F;blog.csdn.net&#x2F;zhuzuwei&#x2F;article&#x2F;details&#x2F;80890007   read_csv和to_csv两大方"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img231/202306212031205.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img231/202306212031207.png"><meta property="og:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img231/202306212031208.png"><meta property="article:published_time" content="2020-09-12T14:41:54.000Z"><meta property="article:modified_time" content="2024-05-18T14:35:07.459Z"><meta property="article:author" content="Fulequn"><meta property="article:tag" content="Python"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://raw.githubusercontent.com/fulequn/oss_img/master/img231/202306212031205.png"><title>pandas系列 read_csv和to_csv的使用 - FuLeQun&#39;s Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"fulequn.github.io",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1},gtag:null,tajs:null},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 7.2.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>FuLeQun&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="pandas系列 read_csv和to_csv的使用"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2020-09-12 22:41" pubdate>2020年9月12日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i>3.6k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i>30 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">pandas系列 read_csv和to_csv的使用</h1><div class="markdown-body"><blockquote><p>参考链接：</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010801439/article/details/80033341">https://blog.csdn.net/u010801439/article/details/80033341</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/toshibahuai/article/details/79034829">https://blog.csdn.net/toshibahuai/article/details/79034829</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhuzuwei/article/details/80890007">https://blog.csdn.net/zhuzuwei/article/details/80890007</a></p></blockquote><h1 id="read_csv和to_csv两大方法的参数详解"><a class="markdownIt-Anchor" href="#read_csv和to_csv两大方法的参数详解"></a> read_csv和to_csv两大方法的参数详解</h1><h2 id="1-read_csv"><a class="markdownIt-Anchor" href="#1-read_csv"></a> 1. read_csv</h2><p>read_csv方法定义：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">pandas.read_csv(filepath_or_buffer, sep=<span class="hljs-string">&#x27;, &#x27;</span>, delimiter=<span class="hljs-literal">None</span>, header=<span class="hljs-string">&#x27;infer&#x27;</span>, names=<span class="hljs-literal">None</span>, <br>index_col=<span class="hljs-literal">None</span>, usecols=<span class="hljs-literal">None</span>, squeeze=<span class="hljs-literal">False</span>, prefix=<span class="hljs-literal">None</span>, mangle_dupe_cols=<span class="hljs-literal">True</span>, dtype=<span class="hljs-literal">None</span>, <br>engine=<span class="hljs-literal">None</span>, converters=<span class="hljs-literal">None</span>, true_values=<span class="hljs-literal">None</span>, false_values=<span class="hljs-literal">None</span>, skipinitialspace=<span class="hljs-literal">False</span>, <br>skiprows=<span class="hljs-literal">None</span>, nrows=<span class="hljs-literal">None</span>, na_values=<span class="hljs-literal">None</span>, keep_default_na=<span class="hljs-literal">True</span>, na_filter=<span class="hljs-literal">True</span>, verbose=<span class="hljs-literal">False</span>, <br>skip_blank_lines=<span class="hljs-literal">True</span>, parse_dates=<span class="hljs-literal">False</span>, infer_datetime_format=<span class="hljs-literal">False</span>, keep_date_col=<span class="hljs-literal">False</span>, <br>date_parser=<span class="hljs-literal">None</span>, dayfirst=<span class="hljs-literal">False</span>, iterator=<span class="hljs-literal">False</span>, chunksize=<span class="hljs-literal">None</span>, compression=<span class="hljs-string">&#x27;infer&#x27;</span>, <br>thousands=<span class="hljs-literal">None</span>, decimal=<span class="hljs-string">b&#x27;.&#x27;</span>, lineterminator=<span class="hljs-literal">None</span>, quotechar=<span class="hljs-string">&#x27;&quot;&#x27;</span>, quoting=<span class="hljs-number">0</span>, escapechar=<span class="hljs-literal">None</span>, <br>comment=<span class="hljs-literal">None</span>, encoding=<span class="hljs-literal">None</span>, dialect=<span class="hljs-literal">None</span>, tupleize_cols=<span class="hljs-literal">None</span>, error_bad_lines=<span class="hljs-literal">True</span>, <br>warn_bad_lines=<span class="hljs-literal">True</span>, skipfooter=<span class="hljs-number">0</span>, skip_footer=<span class="hljs-number">0</span>, doublequote=<span class="hljs-literal">True</span>, delim_whitespace=<span class="hljs-literal">False</span>, <br>as_recarray=<span class="hljs-literal">None</span>, compact_ints=<span class="hljs-literal">None</span>, use_unsigned=<span class="hljs-literal">None</span>, low_memory=<span class="hljs-literal">True</span>, buffer_lines=<span class="hljs-literal">None</span>, <br>memory_map=<span class="hljs-literal">False</span>, float_precision=<span class="hljs-literal">None</span><br><br></code></pre></td></tr></table></figure><p><strong>常用参数：</strong></p><p><strong>filepath_or_buffer :</strong> str，pathlib。str, pathlib.Path, py._path.local.LocalPath or any object with a read() method (such as a file handle or StringIO)</p><p>可以是URL，可用URL类型包括：http, ftp, s3和文件。也就是说可以使用不同的文件系统。</p><p>对于多文件正在准备中，目前尚不支持多csv文件同时读取。</p><p>本地文件读取实例：😕/localhost/path/to/table.csv</p><p><strong>sep :</strong> str, default ‘,’</p><p>指定分隔符。如果不指定参数，则会尝试使用逗号分隔（csv文件（Comma-Separated Values）一般都是用逗号进行分割的）。分隔符长于一个字符并且不是‘\s+’,将使用python的语法分析器。并且忽略数据中的逗号。正则表达式例子：’\r\t’</p><p><strong>delimiter :</strong> str, default None</p><p>定界符，备选分隔符（如果指定该参数，则sep参数失效）</p><p><strong>delim_whitespace :</strong> boolean, default False.</p><p>指定空格(例如’ ‘或者’ ‘)是否作为分隔符使用，等效于设定sep=’\s+’。如果这个参数设定为Ture那么delimiter 参数失效。</p><p>在新版本0.18.1支持。</p><p><strong>header :</strong> int or list of ints, default ‘infer’</p><p>指定行数用来作为列名，数据开始行数。如果文件中没有列名，则默认为0，否则设置为None。如果明确设定header=0 就会替换掉原来存在列名。header参数可以是一个list例如：[0,1,3]，这个list表示将文件中的这些行作为列标题（意味着每一列有多个标题），介于中间的行将被忽略掉（例如本例中的2；本例中的数据1,2,4行将被作为多级标题出现，第3行数据将被丢弃，dataframe的数据从第5行开始。）。</p><p>注意：如果skip_blank_lines=True 那么header参数忽略注释行和空行，所以header=0表示<strong>第一行数据</strong>而不是文件的第一行。</p><p><strong>names :</strong> array-like, default None</p><p>用于结果的列名列表，如果数据文件中没有列标题行，就需要执行header=None。默认列表中不能出现重复，除非设定参数mangle_dupe_cols=True。</p><p><strong>index_col :</strong> int or sequence or False, default None</p><p>用作行索引的列编号或者列名，如果给定一个序列则有多个行索引。</p><p>如果文件不规则，行尾有分隔符，则可以设定index_col=False 保证pandas用第一列作为行索引。</p><p><strong>usecols :</strong> array-like, default None</p><p>返回一个数据子集，该列表中的值必须可以对应到文件中的位置（数字可以对应到指定的列）或者是字符传为文件中的列名。例如：usecols有效参数可能是 [0,1,2]或者是 [‘foo’, ‘bar’, ‘baz’]。使用这个参数可以加快加载速度并降低内存消耗。</p><p><strong>as_recarray :</strong> boolean, default False</p><p>不赞成使用：该参数会在未来版本移除。请使用pd.read_csv(…).to_records()替代。</p><p>返回一个Numpy的recarray来替代DataFrame。如果该参数设定为True。将会优先squeeze参数使用。并且行索引将不再可用，索引列也将被忽略。</p><p><strong>squeeze :</strong> boolean, default False</p><p>如果文件值包含一列，则返回一个Series</p><p><strong>prefix :</strong> str, default None</p><p>在没有列标题时，给列添加前缀。例如：添加‘X’ 成为 X0, X1, …</p><p><strong>mangle_dupe_cols :</strong> boolean, default True</p><p>重复的列，将‘X’…’X’表示为‘X.0’…’X.N’。如果设定为false则会将所有重名列覆盖。</p><p><strong>dtype :</strong> Type name or dict of column -&gt; type, default None</p><p>每列数据的数据类型。例如 {‘a’: np.float64, ‘b’: np.int32}</p><p><strong>engine :</strong> {‘c’, ‘python’}, optional</p><p>Parser engine to use. The C engine is faster while the python engine is currently more feature-complete.</p><p>使用的分析引擎。可以选择C或者是python。C引擎快但是Python引擎功能更加完备。</p><p><strong>converters :</strong> dict, default None</p><p>列转换函数的字典。key可以是列名或者列的序号。</p><p><strong>true_values :</strong> list, default None</p><p>Values to consider as True</p><p><strong>false_values :</strong> list, default None</p><p>Values to consider as False</p><p><strong>skipinitialspace :</strong> boolean, default False</p><p>忽略分隔符后的空白（默认为False，即不忽略）.</p><p><strong>skiprows :</strong> list-like or integer, default None</p><p>需要忽略的行数（从文件开始处算起），或需要跳过的行号列表（从0开始）。</p><p><strong>skipfooter :</strong> int, default 0</p><p>从文件尾部开始忽略。 (c引擎不支持)</p><p><strong>skip_footer :</strong> int, default 0</p><p>不推荐使用：建议使用skipfooter ，功能一样。</p><p><strong>nrows :</strong> int, default None</p><p>需要读取的行数（从文件头开始算起）。</p><p><strong>na_values :</strong> scalar, str, list-like, or dict, default None</p><p>一组用于替换NA/NaN的值。如果传参，需要制定特定列的空值。默认为‘1.#IND’, ‘1.#QNAN’, ‘N/A’, ‘NA’, ‘NULL’, ‘NaN’, ‘nan’`.</p><p><strong>keep_default_na :</strong> bool, default True</p><p>如果指定na_values参数，并且keep_default_na=False，那么默认的NaN将被覆盖，否则添加。</p><p><strong>na_filter :</strong> boolean, default True</p><p>是否检查丢失值（空字符串或者是空值）。对于大文件来说数据集中没有空值，设定na_filter=False可以提升读取速度。</p><p><strong>verbose :</strong> boolean, default False</p><p>是否打印各种解析器的输出信息，例如：“非数值列中缺失值的数量”等。</p><p><strong>skip_blank_lines :</strong> boolean, default True</p><p>如果为True，则跳过空行；否则记为NaN。</p><p><strong>parse_dates :</strong> boolean or list of ints or names or list of lists or dict, default False</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xl"><span class="hljs-function"><span class="hljs-title">boolean</span>. True -&gt;</span> 解析索引<br><span class="hljs-function"><span class="hljs-title">list</span> of ints <span class="hljs-built_in">or</span> names. e.g. If [1, 2, 3] -&gt;</span> 解析<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>列的值作为独立的日期列；<br><span class="hljs-function"><span class="hljs-title">list</span> of lists. e.g. If [[1, 3]] -&gt;</span> 合并<span class="hljs-number">1</span>,<span class="hljs-number">3</span>列作为一个日期列使用<br><span class="hljs-function"><span class="hljs-title">dict</span>, e.g. &#123;‘foo’ : [1, 3]&#125; -&gt;</span> 将<span class="hljs-number">1</span>,<span class="hljs-number">3</span>列合并，并给合并后的列起名为<span class="hljs-string">&quot;foo&quot;</span><br><br></code></pre></td></tr></table></figure><p><strong>infer_datetime_format :</strong> boolean, default False</p><p>如果设定为True并且parse_dates 可用，那么pandas将尝试转换为日期类型，如果可以转换，转换方法并解析。在某些情况下会快5~10倍。</p><p><strong>keep_date_col :</strong> boolean, default False</p><p>如果连接多列解析日期，则保持参与连接的列。默认为False。</p><p><strong>date_parser :</strong> function, default None</p><p>用于解析日期的函数，默认使用dateutil.parser.parser来做转换。</p><p>Pandas尝试使用三种不同的方式解析，如果遇到问题则使用下一种方式。</p><p>1.使用一个或者多个arrays（由parse_dates指定）作为参数；</p><p>2.连接指定多列字符串作为一个列作为参数；</p><p>3.每行调用一次date_parser函数来解析一个或者多个字符串（由parse_dates指定）作为参数。</p><p><strong>dayfirst :</strong> boolean, default False</p><p>DD/MM格式的日期类型</p><p><strong>iterator :</strong> boolean, default False</p><p>返回一个TextFileReader 对象，以便逐块处理文件。</p><p><strong>chunksize :</strong> int, default None</p><p>文件块的大小， See IO Tools docs for more informationon iterator and chunksize.</p><p><strong>compression :</strong> {‘infer’, ‘gzip’, ‘bz2’, ‘zip’, ‘xz’, None}, default ‘infer’</p><p>直接使用磁盘上的压缩文件。如果使用infer参数，则使用 gzip, bz2, zip或者解压文件名中以‘.gz’, ‘.bz2’, ‘.zip’, or ‘xz’这些为后缀的文件，否则不解压。如果使用zip，那么ZIP包中国必须只包含一个文件。设置为None则不解压。</p><p>新版本0.18.1版本支持zip和xz解压</p><p><strong>thousands :</strong> str, default None</p><p>千分位分割符，如“，”或者“.”</p><p><strong>decimal :</strong> str, default ‘.’</p><p>字符中的小数点 (例如：欧洲数据使用’，‘).</p><p><strong>float_precision :</strong> string, default None</p><p>Specifies which converter the C engine should use for floating-point values. The options are None for the ordinary converter, high for the high-precision converter, and round_trip for the round-trip converter.</p><p>指定</p><p><strong>lineterminator :</strong> str (length 1), default None</p><p>行分割符，只在C解析器下使用。</p><p><strong>quotechar :</strong> str (length 1), optional</p><p>引号，用作标识开始和解释的字符，引号内的分割符将被忽略。</p><p><strong>quoting :</strong> int or csv.QUOTE_* instance, default 0</p><p>控制csv中的引号常量。可选 QUOTE_MINIMAL (0), QUOTE_ALL (1), QUOTE_NONNUMERIC (2) or QUOTE_NONE (3)</p><p><strong>doublequote :</strong> boolean, default True</p><p>双引号，当单引号已经被定义，并且quoting 参数不是QUOTE_NONE的时候，使用双引号表示引号内的元素作为一个元素使用。</p><p><strong>escapechar :</strong> str (length 1), default None</p><p>当quoting 为QUOTE_NONE时，指定一个字符使的不受分隔符限值。</p><p><strong>comment :</strong> str, default None</p><p>标识着多余的行不被解析。如果该字符出现在行首，这一行将被全部忽略。这个参数只能是一个字符，空行（就像skip_blank_lines=True）注释行被header和skiprows忽略一样。例如如果指定comment=’#’ 解析‘#empty\na,b,c\n1,2,3’ 以header=0 那么返回结果将是以’a,b,c’作为header。</p><p><strong>encoding :</strong> str, default None</p><p>指定字符集类型，通常指定为’utf-8’. List of Python standard encodings</p><p><strong>dialect :</strong> str or csv.Dialect instance, default None</p><p>如果没有指定特定的语言，如果sep大于一个字符则忽略。具体查看csv.Dialect 文档</p><p><strong>tupleize_cols :</strong> boolean, default False</p><p>Leave a list of tuples on columns as is (default is to convert to a Multi Index on the columns)</p><p><strong>error_bad_lines :</strong> boolean, default True</p><p>如果一行包含太多的列，那么默认不会返回DataFrame ，如果设置成false，那么会将改行剔除（只能在C解析器下使用）。</p><p><strong>warn_bad_lines :</strong> boolean, default True</p><p>如果error_bad_lines =False，并且warn_bad_lines =True 那么所有的“bad lines”将会被输出（只能在C解析器下使用）。</p><p><strong>low_memory :</strong> boolean, default True</p><p>分块加载到内存，再低内存消耗中解析。但是可能出现类型混淆。确保类型不被混淆需要设置为False。或者使用dtype 参数指定类型。注意使用chunksize 或者iterator 参数分块读入会将整个文件读入到一个Dataframe，而忽略类型（只能在C解析器中有效）</p><p><strong>buffer_lines :</strong> int, default None</p><p>不推荐使用，这个参数将会在未来版本移除，因为他的值在解析器中不推荐使用</p><p><strong>compact_ints :</strong> boolean, default False</p><p>不推荐使用，这个参数将会在未来版本移除<br>如果设置compact_ints=True ，那么任何有整数类型构成的列将被按照最小的整数类型存储，是否有符号将取决于use_unsigned 参数</p><p><strong>use_unsigned :</strong> boolean, default False</p><p>不推荐使用：这个参数将会在未来版本移除<br>如果整数列被压缩(i.e. compact_ints=True)，指定被压缩的列是有符号还是无符号的。</p><p><strong>memory_map :</strong> boolean, default False</p><p>如果使用的文件在内存内，那么直接map文件使用。使用这种方式可以避免文件再次进行IO操作。</p><h2 id="2-to_csv"><a class="markdownIt-Anchor" href="#2-to_csv"></a> 2. to_csv</h2><p>to_csv方法定义：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">DataFrame.to_csv(path_or_buf=<span class="hljs-literal">None</span>, sep=<span class="hljs-string">&#x27;, &#x27;</span>, na_rep=<span class="hljs-string">&#x27;&#x27;</span>, float_format=<span class="hljs-literal">None</span>, columns=<span class="hljs-literal">None</span>, <br>header=<span class="hljs-literal">True</span>, index=<span class="hljs-literal">True</span>, index_label=<span class="hljs-literal">None</span>, mode=<span class="hljs-string">&#x27;w&#x27;</span>, encoding=<span class="hljs-literal">None</span>, compression=<span class="hljs-literal">None</span>, <br>quoting=<span class="hljs-literal">None</span>, quotechar=<span class="hljs-string">&#x27;&quot;&#x27;</span>, line_terminator=<span class="hljs-string">&#x27;\n&#x27;</span>, chunksize=<span class="hljs-literal">None</span>, tupleize_cols=<span class="hljs-literal">None</span>, <br>date_format=<span class="hljs-literal">None</span>, doublequote=<span class="hljs-literal">True</span>, escapechar=<span class="hljs-literal">None</span>, decimal=<span class="hljs-string">&#x27;.&#x27;</span>)<br><br></code></pre></td></tr></table></figure><p><strong>path_or_buf=None：</strong> string or file handle, default None</p><p>File path or object, if None is provided the result is returned as a string.</p><p>字符串或文件句柄，默认无文件</p><p>路径或对象，如果没有提供，结果将返回为字符串。</p><p><strong>sep :</strong> character, default ‘,’</p><p>Field delimiter for the output file.</p><p>默认字符 ‘ ，’</p><p>输出文件的字段分隔符。</p><p><strong>na_rep :</strong> string, default ‘’</p><p>Missing data representation</p><p>字符串，默认为 ‘’</p><p>浮点数格式字符串</p><p><strong>float_format :</strong> string, default None</p><p>Format string for floating point numbers</p><p>字符串，默认为 None</p><p>浮点数格式字符串</p><p><strong>columns :</strong> sequence, optional Columns to write</p><p>顺序，可选列写入</p><p><strong>header :</strong> boolean or list of string, default True</p><p>Write out the column names. If a list of strings is given it is assumed to be aliases for the column names</p><p>字符串或布尔列表，默认为true</p><p>写出列名。如果给定字符串列表，则假定为列名的别名。</p><p><strong>index :</strong> boolean, default True</p><p>Write row names (index)</p><p>布尔值，默认为Ture</p><p>写入行名称（索引）</p><p><strong>index_label :</strong> string or sequence, or False, default None</p><p>Column label for index column(s) if desired. If None is given, and header and index are True, then the index names are used. A sequence should be given if the DataFrame uses MultiIndex. If False do not print fields for index names. Use index_label=False for easier importing in R</p><p>字符串或序列，或False,默认为None</p><p>如果需要，可以使用索引列的列标签。如果没有给出，且标题和索引为True，则使用索引名称。如果数据文件使用多索引，则应该使用这个序列。如果值为False，不打印索引字段。在R中使用index_label=False 更容易导入索引.</p><p><strong>mode :</strong> str</p><p>模式：值为‘str’，字符串</p><p>Python写模式，默认“w”</p><p><strong>encoding :</strong> string, optional</p><p>编码：字符串，可选</p><p>表示在输出文件中使用的编码的字符串，Python 2上默认为“ASCII”和Python 3上默认为“UTF-8”。</p><p><strong>compression :</strong> string, optional</p><p>字符串，可选项</p><p>表示在输出文件中使用的压缩的字符串，允许值为“gzip”、“bz2”、“xz”，仅在第一个参数是文件名时使用。</p><p><strong>line_terminator :</strong> string, default ‘\n’</p><p>字符串，默认为 ‘\n’</p><p>在输出文件中使用的换行字符或字符序列</p><p><strong>quoting :</strong> optional constant from csv module</p><p>CSV模块的可选常量</p><p>默认值为to_csv.QUOTE_MINIMAL。如果设置了浮点格式，那么浮点将转换为字符串，因此csv.QUOTE_NONNUMERIC会将它们视为非数值的。</p><p><strong>quotechar :</strong> string (length 1), default ‘”’</p><p>字符串（长度1），默认“”</p><p>用于引用字段的字符</p><p><strong>doublequote :</strong> boolean, default True</p><p>布尔，默认为Ture</p><p>控制一个字段内的quotechar</p><p><strong>escapechar :</strong> string (length 1), default None</p><p>字符串（长度为1），默认为None</p><p>在适当的时候用来转义sep和quotechar的字符</p><p><strong>chunksize :</strong> int or None</p><p>int或None</p><p>一次写入行</p><p><strong>tupleize_cols :</strong> boolean, default False</p><p>布尔值 ，默认为False</p><p>从版本0.21.0中删除：此参数将被删除，并且总是将多索引的每行写入CSV文件中的单独行</p><p>（如果值为false）将多索引列作为元组列表（如果TRUE）或以新的、扩展的格式写入，其中每个多索引列是CSV中的一行。</p><p><strong>date_format :</strong> string, default None</p><p>字符串，默认为None</p><p>字符串对象转换为日期时间对象</p><p><strong>decimal:</strong> string, default ‘.’</p><p>字符串，默认’。’</p><p>字符识别为小数点分隔符。例如。欧洲数据使用 ​​’，’</p><h1 id="使用方法"><a class="markdownIt-Anchor" href="#使用方法"></a> 使用方法</h1><h2 id="to_csv"><a class="markdownIt-Anchor" href="#to_csv"></a> to_csv</h2><p><strong>1.首先查询当前的工作路径：</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br>os.getcwd() <span class="hljs-comment">#获取当前工作路径</span><br></code></pre></td></tr></table></figure><p><strong>2.to_csv()是DataFrame类的方法，read_csv()是pandas的方法</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv() <span class="hljs-comment">#默认dt是DataFrame的一个实例，参数解释如下</span><br></code></pre></td></tr></table></figure><ul><li><strong>路径（控制输出位置）</strong> path_or_buf: A string path to the file to write or a StringIO</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv(<span class="hljs-string">&#x27;Result.csv&#x27;</span>) <span class="hljs-comment">#相对位置，保存在getwcd()获得的路径下</span><br>dt.to_csv(<span class="hljs-string">&#x27;C:/Users/think/Desktop/Result.csv&#x27;</span>) <span class="hljs-comment">#绝对位置</span><br></code></pre></td></tr></table></figure><ul><li><strong>分隔符（可以使用指定分割符）</strong> sep : Field delimiter for the output file (default ”,”)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv(<span class="hljs-string">&#x27;C:/Users/think/Desktop/Result.csv&#x27;</span>,sep=<span class="hljs-string">&#x27;?&#x27;</span>)<span class="hljs-comment">#使用?分隔需要保存的数据，如果不写，默认是,</span><br></code></pre></td></tr></table></figure><ul><li><strong>替换空值（对空值进行处理）</strong> na_rep: A string representation of a missing value (default ‘’)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv(<span class="hljs-string">&#x27;C:/Users/think/Desktop/Result1.csv&#x27;</span>,na_rep=<span class="hljs-string">&#x27;NA&#x27;</span>) <span class="hljs-comment">#确实值保存为NA，如果不写，默认是空</span><br></code></pre></td></tr></table></figure><ul><li><strong>格式（控制输出）</strong> float_format: Format string for floating point numbers（主要是控制字符串还有浮点小数输出）</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv(<span class="hljs-string">&#x27;C:/Users/think/Desktop/Result1.csv&#x27;</span>,float_format=<span class="hljs-string">&#x27;%.2f&#x27;</span>) <span class="hljs-comment">#保留两位小数</span><br></code></pre></td></tr></table></figure><ul><li><strong>是否保留某列数据</strong> cols: Columns to write (default None)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv(<span class="hljs-string">&#x27;C:/Users/think/Desktop/Result.csv&#x27;</span>,columns=[<span class="hljs-string">&#x27;name&#x27;</span>]) <span class="hljs-comment">#保存索引列和name列</span><br></code></pre></td></tr></table></figure><ul><li><strong>是否保留列名（和read_csv类似）</strong> header: Whether to write out the column names (default True)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv(<span class="hljs-string">&#x27;C:/Users/think/Desktop/Result.csv&#x27;</span>,header=<span class="hljs-number">0</span>) <span class="hljs-comment">#不保存列名</span><br></code></pre></td></tr></table></figure><ul><li><strong>是否保留行索引</strong> index: whether to write row (index) names (default True)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt.to_csv(<span class="hljs-string">&#x27;C:/Users/think/Desktop/Result1.csv&#x27;</span>,index=<span class="hljs-number">0</span>) <span class="hljs-comment">#不保存行索引</span><br></code></pre></td></tr></table></figure><h1 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题</h1><h2 id="to_csv-2"><a class="markdownIt-Anchor" href="#to_csv-2"></a> to_csv</h2><p><strong>pandas 之 to_csv 保存数据出现中文乱码问题及解决办法</strong></p><p>1.使用pandas读取再使用to_csv()方法重新保存</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br> <br>file_name = <span class="hljs-string">&#x27;G:/myLearning/pythonML201804/spiderLearning/scrapy_learning/car_comment_crawler/\</span><br><span class="hljs-string">            car_comment_crawler/spiders/haval_all_page3.csv&#x27;</span><br> <br>df = pd.read_csv(file_name, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>df<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img231/202306212031205.png" srcset="/img/loading.gif" lazyload alt="1"></p><p>（1）使用 df.to_csv(file_name2, encoding=‘utf-8’) 后还是编码有问题</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df.to_csv(file_name2,encoding=<span class="hljs-string">&quot;utf_8&quot;</span>)<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img231/202306212031207.png" srcset="/img/loading.gif" lazyload alt="2"></p><p>（2）使用 df.to_csv(file_name2, encoding=‘utf_8_sig’) 后中文乱码问题解决了</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">df.to_csv(file_name3,<span class="hljs-attribute">encoding</span>=<span class="hljs-string">&quot;utf_8_sig&quot;</span>)<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/fulequn/oss_img/master/img231/202306212031208.png" srcset="/img/loading.gif" lazyload alt="3"></p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" class="category-chain-item">编程语言</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Python/" class="print-no-link">#Python</a></div></div><div class="license-box my-3"><div class="license-title"><div>pandas系列 read_csv和to_csv的使用</div><div>https://fulequn.github.io/2020/09/Article202009123/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Fulequn</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2020年9月12日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2020/09/Article202009171/" title="R语言读写xls，xlsx文件"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">R语言读写xls，xlsx文件</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2020/09/Article202009122/" title="R统计笔记（三） 分组统计的几种方法"><span class="hidden-mobile">R统计笔记（三） 分组统计的几种方法</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>